{"ast":null,"code":"'use strict';var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));var _createClass2=_interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));var _assertThisInitialized2=_interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));var _inherits2=_interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));var _possibleConstructorReturn2=_interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));var _getPrototypeOf2=_interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));var _extends2=_interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));var _createForOfIteratorHelperLoose2=_interopRequireDefault(require(\"@babel/runtime/helpers/createForOfIteratorHelperLoose\"));var _objectWithoutPropertiesLoose2=_interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));var _objectSpread2=_interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));var _VirtualizeUtils=require(\"../VirtualizeUtils\");var _View=_interopRequireDefault(require(\"../../../exports/View\"));var _VirtualizedList=_interopRequireDefault(require(\"../VirtualizedList\"));var React=_interopRequireWildcard(require(\"react\"));var _invariant=_interopRequireDefault(require(\"fbjs/lib/invariant\"));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!==\"function\")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!==\"object\"&&typeof obj!==\"function\"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!==\"default\"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var _excluded=[\"ItemSeparatorComponent\",\"SectionSeparatorComponent\",\"renderItem\",\"renderSectionFooter\",\"renderSectionHeader\",\"sections\",\"stickySectionHeadersEnabled\"];var VirtualizedSectionList=function(_React$PureComponent){(0,_inherits2.default)(VirtualizedSectionList,_React$PureComponent);var _super=_createSuper(VirtualizedSectionList);function VirtualizedSectionList(){var _this;(0,_classCallCheck2.default)(this,VirtualizedSectionList);_this=_super.apply(this,arguments);_this._keyExtractor=function(item,index){var info=_this._subExtractor(index);return info&&info.key||String(index);};_this._convertViewable=function(viewable){var _info$index;(0,_invariant.default)(viewable.index!=null,'Received a broken ViewToken');var info=_this._subExtractor(viewable.index);if(!info){return null;}var keyExtractorWithNullableIndex=info.section.keyExtractor;var keyExtractorWithNonNullableIndex=_this.props.keyExtractor||_VirtualizeUtils.keyExtractor;var key=keyExtractorWithNullableIndex!=null?keyExtractorWithNullableIndex(viewable.item,info.index):keyExtractorWithNonNullableIndex(viewable.item,(_info$index=info.index)!==null&&_info$index!==void 0?_info$index:0);return(0,_objectSpread2.default)((0,_objectSpread2.default)({},viewable),{},{index:info.index,key:key,section:info.section});};_this._onViewableItemsChanged=function(_ref){var viewableItems=_ref.viewableItems,changed=_ref.changed;var onViewableItemsChanged=_this.props.onViewableItemsChanged;if(onViewableItemsChanged!=null){onViewableItemsChanged({viewableItems:viewableItems.map(_this._convertViewable,(0,_assertThisInitialized2.default)(_this)).filter(Boolean),changed:changed.map(_this._convertViewable,(0,_assertThisInitialized2.default)(_this)).filter(Boolean)});}};_this._renderItem=function(listItemCount){return function(_ref2){var item=_ref2.item,index=_ref2.index;var info=_this._subExtractor(index);if(!info){return null;}var infoIndex=info.index;if(infoIndex==null){var section=info.section;if(info.header===true){var renderSectionHeader=_this.props.renderSectionHeader;return renderSectionHeader?renderSectionHeader({section:section}):null;}else{var renderSectionFooter=_this.props.renderSectionFooter;return renderSectionFooter?renderSectionFooter({section:section}):null;}}else{var renderItem=info.section.renderItem||_this.props.renderItem;var SeparatorComponent=_this._getSeparatorComponent(index,info,listItemCount);(0,_invariant.default)(renderItem,'no renderItem!');return React.createElement(ItemWithSeparator,{SeparatorComponent:SeparatorComponent,LeadingSeparatorComponent:infoIndex===0?_this.props.SectionSeparatorComponent:undefined,cellKey:info.key,index:infoIndex,item:item,leadingItem:info.leadingItem,leadingSection:info.leadingSection,prevCellKey:(_this._subExtractor(index-1)||{}).key,setSelfHighlightCallback:_this._setUpdateHighlightFor,setSelfUpdatePropsCallback:_this._setUpdatePropsFor,updateHighlightFor:_this._updateHighlightFor,updatePropsFor:_this._updatePropsFor,renderItem:renderItem,section:info.section,trailingItem:info.trailingItem,trailingSection:info.trailingSection,inverted:!!_this.props.inverted});}};};_this._updatePropsFor=function(cellKey,value){var updateProps=_this._updatePropsMap[cellKey];if(updateProps!=null){updateProps(value);}};_this._updateHighlightFor=function(cellKey,value){var updateHighlight=_this._updateHighlightMap[cellKey];if(updateHighlight!=null){updateHighlight(value);}};_this._setUpdateHighlightFor=function(cellKey,updateHighlightFn){if(updateHighlightFn!=null){_this._updateHighlightMap[cellKey]=updateHighlightFn;}else{delete _this._updateHighlightFor[cellKey];}};_this._setUpdatePropsFor=function(cellKey,updatePropsFn){if(updatePropsFn!=null){_this._updatePropsMap[cellKey]=updatePropsFn;}else{delete _this._updatePropsMap[cellKey];}};_this._updateHighlightMap={};_this._updatePropsMap={};_this._captureRef=function(ref){_this._listRef=ref;};return _this;}(0,_createClass2.default)(VirtualizedSectionList,[{key:\"scrollToLocation\",value:function scrollToLocation(params){var index=params.itemIndex;for(var i=0;i<params.sectionIndex;i++){index+=this.props.getItemCount(this.props.sections[i].data)+2;}var viewOffset=params.viewOffset||0;if(this._listRef==null){return;}if(params.itemIndex>0&&this.props.stickySectionHeadersEnabled){var frame=this._listRef._getFrameMetricsApprox(index-params.itemIndex);viewOffset+=frame.length;}var toIndexParams=(0,_objectSpread2.default)((0,_objectSpread2.default)({},params),{},{viewOffset:viewOffset,index:index});this._listRef.scrollToIndex(toIndexParams);}},{key:\"getListRef\",value:function getListRef(){return this._listRef;}},{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,ItemSeparatorComponent=_this$props.ItemSeparatorComponent,SectionSeparatorComponent=_this$props.SectionSeparatorComponent,_renderItem=_this$props.renderItem,renderSectionFooter=_this$props.renderSectionFooter,renderSectionHeader=_this$props.renderSectionHeader,_sections=_this$props.sections,stickySectionHeadersEnabled=_this$props.stickySectionHeadersEnabled,passThroughProps=(0,_objectWithoutPropertiesLoose2.default)(_this$props,_excluded);var listHeaderOffset=this.props.ListHeaderComponent?1:0;var stickyHeaderIndices=this.props.stickySectionHeadersEnabled?[]:undefined;var itemCount=0;for(var _iterator=(0,_createForOfIteratorHelperLoose2.default)(this.props.sections),_step;!(_step=_iterator()).done;){var section=_step.value;if(stickyHeaderIndices!=null){stickyHeaderIndices.push(itemCount+listHeaderOffset);}itemCount+=2;itemCount+=this.props.getItemCount(section.data);}var renderItem=this._renderItem(itemCount);return React.createElement(_VirtualizedList.default,(0,_extends2.default)({},passThroughProps,{keyExtractor:this._keyExtractor,stickyHeaderIndices:stickyHeaderIndices,renderItem:renderItem,data:this.props.sections,getItem:function getItem(sections,index){return _this2._getItem(_this2.props,sections,index);},getItemCount:function getItemCount(){return itemCount;},onViewableItemsChanged:this.props.onViewableItemsChanged?this._onViewableItemsChanged:undefined,ref:this._captureRef}));}},{key:\"_getItem\",value:function _getItem(props,sections,index){if(!sections){return null;}var itemIdx=index-1;for(var i=0;i<sections.length;i++){var section=sections[i];var sectionData=section.data;var itemCount=props.getItemCount(sectionData);if(itemIdx===-1||itemIdx===itemCount){return section;}else if(itemIdx<itemCount){return props.getItem(sectionData,itemIdx);}else{itemIdx-=itemCount+2;}}return null;}},{key:\"_subExtractor\",value:function _subExtractor(index){var itemIndex=index;var _this$props2=this.props,getItem=_this$props2.getItem,getItemCount=_this$props2.getItemCount,keyExtractor=_this$props2.keyExtractor,sections=_this$props2.sections;for(var i=0;i<sections.length;i++){var section=sections[i];var sectionData=section.data;var key=section.key||String(i);itemIndex-=1;if(itemIndex>=getItemCount(sectionData)+1){itemIndex-=getItemCount(sectionData)+1;}else if(itemIndex===-1){return{section:section,key:key+':header',index:null,header:true,trailingSection:sections[i+1]};}else if(itemIndex===getItemCount(sectionData)){return{section:section,key:key+':footer',index:null,header:false,trailingSection:sections[i+1]};}else{var extractor=section.keyExtractor||keyExtractor||_VirtualizeUtils.keyExtractor;return{section:section,key:key+':'+extractor(getItem(sectionData,itemIndex),itemIndex),index:itemIndex,leadingItem:getItem(sectionData,itemIndex-1),leadingSection:sections[i-1],trailingItem:getItem(sectionData,itemIndex+1),trailingSection:sections[i+1]};}}}},{key:\"_getSeparatorComponent\",value:function _getSeparatorComponent(index,info,listItemCount){info=info||this._subExtractor(index);if(!info){return null;}var ItemSeparatorComponent=info.section.ItemSeparatorComponent||this.props.ItemSeparatorComponent;var SectionSeparatorComponent=this.props.SectionSeparatorComponent;var isLastItemInList=index===listItemCount-1;var isLastItemInSection=info.index===this.props.getItemCount(info.section.data)-1;if(SectionSeparatorComponent&&isLastItemInSection){return SectionSeparatorComponent;}if(ItemSeparatorComponent&&!isLastItemInSection&&!isLastItemInList){return ItemSeparatorComponent;}return null;}}]);return VirtualizedSectionList;}(React.PureComponent);function ItemWithSeparator(props){var LeadingSeparatorComponent=props.LeadingSeparatorComponent,SeparatorComponent=props.SeparatorComponent,cellKey=props.cellKey,prevCellKey=props.prevCellKey,setSelfHighlightCallback=props.setSelfHighlightCallback,updateHighlightFor=props.updateHighlightFor,setSelfUpdatePropsCallback=props.setSelfUpdatePropsCallback,updatePropsFor=props.updatePropsFor,item=props.item,index=props.index,section=props.section,inverted=props.inverted;var _React$useState=React.useState(false),leadingSeparatorHiglighted=_React$useState[0],setLeadingSeparatorHighlighted=_React$useState[1];var _React$useState2=React.useState(false),separatorHighlighted=_React$useState2[0],setSeparatorHighlighted=_React$useState2[1];var _React$useState3=React.useState({leadingItem:props.leadingItem,leadingSection:props.leadingSection,section:props.section,trailingItem:props.item,trailingSection:props.trailingSection}),leadingSeparatorProps=_React$useState3[0],setLeadingSeparatorProps=_React$useState3[1];var _React$useState4=React.useState({leadingItem:props.item,leadingSection:props.leadingSection,section:props.section,trailingItem:props.trailingItem,trailingSection:props.trailingSection}),separatorProps=_React$useState4[0],setSeparatorProps=_React$useState4[1];React.useEffect(function(){setSelfHighlightCallback(cellKey,setSeparatorHighlighted);setSelfUpdatePropsCallback(cellKey,setSeparatorProps);return function(){setSelfUpdatePropsCallback(cellKey,null);setSelfHighlightCallback(cellKey,null);};},[cellKey,setSelfHighlightCallback,setSeparatorProps,setSelfUpdatePropsCallback]);var separators={highlight:function highlight(){setLeadingSeparatorHighlighted(true);setSeparatorHighlighted(true);if(prevCellKey!=null){updateHighlightFor(prevCellKey,true);}},unhighlight:function unhighlight(){setLeadingSeparatorHighlighted(false);setSeparatorHighlighted(false);if(prevCellKey!=null){updateHighlightFor(prevCellKey,false);}},updateProps:function updateProps(select,newProps){if(select==='leading'){if(LeadingSeparatorComponent!=null){setLeadingSeparatorProps((0,_objectSpread2.default)((0,_objectSpread2.default)({},leadingSeparatorProps),newProps));}else if(prevCellKey!=null){updatePropsFor(prevCellKey,(0,_objectSpread2.default)((0,_objectSpread2.default)({},leadingSeparatorProps),newProps));}}else if(select==='trailing'&&SeparatorComponent!=null){setSeparatorProps((0,_objectSpread2.default)((0,_objectSpread2.default)({},separatorProps),newProps));}}};var element=props.renderItem({item:item,index:index,section:section,separators:separators});var leadingSeparator=LeadingSeparatorComponent!=null&&React.createElement(LeadingSeparatorComponent,(0,_extends2.default)({highlighted:leadingSeparatorHiglighted},leadingSeparatorProps));var separator=SeparatorComponent!=null&&React.createElement(SeparatorComponent,(0,_extends2.default)({highlighted:separatorHighlighted},separatorProps));return leadingSeparator||separator?React.createElement(_View.default,null,inverted===false?leadingSeparator:separator,element,inverted===false?separator:leadingSeparator):element;}var _default=VirtualizedSectionList;exports.default=_default;","map":{"version":3,"sources":["/Users/uheron/IH/storybookFinalTest/node_modules/react-native-web/dist/vendor/react-native/VirtualizedSectionList/index.js"],"names":["_excluded","VirtualizedSectionList","arguments","_keyExtractor","item","index","info","_subExtractor","key","String","_convertViewable","viewable","_info$index","keyExtractorWithNullableIndex","section","keyExtractor","keyExtractorWithNonNullableIndex","props","defaultKeyExtractor","_onViewableItemsChanged","_ref","viewableItems","changed","onViewableItemsChanged","map","filter","Boolean","_renderItem","listItemCount","_ref2","infoIndex","header","renderSectionHeader","renderSectionFooter","renderItem","SeparatorComponent","_getSeparatorComponent","React","createElement","ItemWithSeparator","LeadingSeparatorComponent","SectionSeparatorComponent","undefined","cellKey","leadingItem","leadingSection","prevCellKey","setSelfHighlightCallback","_setUpdateHighlightFor","setSelfUpdatePropsCallback","_setUpdatePropsFor","updateHighlightFor","_updateHighlightFor","updatePropsFor","_updatePropsFor","trailingItem","trailingSection","inverted","value","updateProps","_updatePropsMap","updateHighlight","_updateHighlightMap","updateHighlightFn","updatePropsFn","_captureRef","ref","_listRef","params","itemIndex","i","sectionIndex","getItemCount","sections","data","viewOffset","stickySectionHeadersEnabled","frame","_getFrameMetricsApprox","length","toIndexParams","scrollToIndex","_this$props","ItemSeparatorComponent","_sections","passThroughProps","listHeaderOffset","ListHeaderComponent","stickyHeaderIndices","itemCount","_iterator","_step","done","push","VirtualizedList","getItem","_getItem","itemIdx","sectionData","_this$props2","extractor","isLastItemInList","isLastItemInSection","PureComponent","_React$useState","useState","leadingSeparatorHiglighted","setLeadingSeparatorHighlighted","_React$useState2","separatorHighlighted","setSeparatorHighlighted","_React$useState3","leadingSeparatorProps","setLeadingSeparatorProps","_React$useState4","separatorProps","setSeparatorProps","useEffect","separators","highlight","unhighlight","select","newProps","element","leadingSeparator","highlighted","separator","View"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n'use strict';\n\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _createForOfIteratorHelperLoose from \"@babel/runtime/helpers/createForOfIteratorHelperLoose\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _objectSpread from \"@babel/runtime/helpers/objectSpread2\";\nvar _excluded = [\"ItemSeparatorComponent\", \"SectionSeparatorComponent\", \"renderItem\", \"renderSectionFooter\", \"renderSectionHeader\", \"sections\", \"stickySectionHeadersEnabled\"];\nimport { keyExtractor as defaultKeyExtractor } from '../VirtualizeUtils';\nimport View from '../../../exports/View';\nimport VirtualizedList from '../VirtualizedList';\nimport * as React from 'react';\nimport invariant from 'fbjs/lib/invariant';\n\n/**\n * Right now this just flattens everything into one list and uses VirtualizedList under the\n * hood. The only operation that might not scale well is concatting the data arrays of all the\n * sections when new props are received, which should be plenty fast for up to ~10,000 items.\n */\nclass VirtualizedSectionList extends React.PureComponent {\n  constructor() {\n    super(...arguments);\n\n    this._keyExtractor = (item, index) => {\n      var info = this._subExtractor(index);\n\n      return info && info.key || String(index);\n    };\n\n    this._convertViewable = viewable => {\n      var _info$index;\n\n      invariant(viewable.index != null, 'Received a broken ViewToken');\n\n      var info = this._subExtractor(viewable.index);\n\n      if (!info) {\n        return null;\n      }\n\n      var keyExtractorWithNullableIndex = info.section.keyExtractor;\n      var keyExtractorWithNonNullableIndex = this.props.keyExtractor || defaultKeyExtractor;\n      var key = keyExtractorWithNullableIndex != null ? keyExtractorWithNullableIndex(viewable.item, info.index) : keyExtractorWithNonNullableIndex(viewable.item, (_info$index = info.index) !== null && _info$index !== void 0 ? _info$index : 0);\n      return _objectSpread(_objectSpread({}, viewable), {}, {\n        index: info.index,\n        key,\n        section: info.section\n      });\n    };\n\n    this._onViewableItemsChanged = _ref => {\n      var viewableItems = _ref.viewableItems,\n          changed = _ref.changed;\n      var onViewableItemsChanged = this.props.onViewableItemsChanged;\n\n      if (onViewableItemsChanged != null) {\n        onViewableItemsChanged({\n          viewableItems: viewableItems.map(this._convertViewable, this).filter(Boolean),\n          changed: changed.map(this._convertViewable, this).filter(Boolean)\n        });\n      }\n    };\n\n    this._renderItem = listItemCount => _ref2 => {\n      var item = _ref2.item,\n          index = _ref2.index;\n\n      var info = this._subExtractor(index);\n\n      if (!info) {\n        return null;\n      }\n\n      var infoIndex = info.index;\n\n      if (infoIndex == null) {\n        var section = info.section;\n\n        if (info.header === true) {\n          var renderSectionHeader = this.props.renderSectionHeader;\n          return renderSectionHeader ? renderSectionHeader({\n            section\n          }) : null;\n        } else {\n          var renderSectionFooter = this.props.renderSectionFooter;\n          return renderSectionFooter ? renderSectionFooter({\n            section\n          }) : null;\n        }\n      } else {\n        var renderItem = info.section.renderItem || this.props.renderItem;\n\n        var SeparatorComponent = this._getSeparatorComponent(index, info, listItemCount);\n\n        invariant(renderItem, 'no renderItem!');\n        return /*#__PURE__*/React.createElement(ItemWithSeparator, {\n          SeparatorComponent: SeparatorComponent,\n          LeadingSeparatorComponent: infoIndex === 0 ? this.props.SectionSeparatorComponent : undefined,\n          cellKey: info.key,\n          index: infoIndex,\n          item: item,\n          leadingItem: info.leadingItem,\n          leadingSection: info.leadingSection,\n          prevCellKey: (this._subExtractor(index - 1) || {}).key // Callback to provide updateHighlight for this item\n          ,\n          setSelfHighlightCallback: this._setUpdateHighlightFor,\n          setSelfUpdatePropsCallback: this._setUpdatePropsFor // Provide child ability to set highlight/updateProps for previous item using prevCellKey\n          ,\n          updateHighlightFor: this._updateHighlightFor,\n          updatePropsFor: this._updatePropsFor,\n          renderItem: renderItem,\n          section: info.section,\n          trailingItem: info.trailingItem,\n          trailingSection: info.trailingSection,\n          inverted: !!this.props.inverted\n        });\n      }\n    };\n\n    this._updatePropsFor = (cellKey, value) => {\n      var updateProps = this._updatePropsMap[cellKey];\n\n      if (updateProps != null) {\n        updateProps(value);\n      }\n    };\n\n    this._updateHighlightFor = (cellKey, value) => {\n      var updateHighlight = this._updateHighlightMap[cellKey];\n\n      if (updateHighlight != null) {\n        updateHighlight(value);\n      }\n    };\n\n    this._setUpdateHighlightFor = (cellKey, updateHighlightFn) => {\n      if (updateHighlightFn != null) {\n        this._updateHighlightMap[cellKey] = updateHighlightFn;\n      } else {\n        delete this._updateHighlightFor[cellKey];\n      }\n    };\n\n    this._setUpdatePropsFor = (cellKey, updatePropsFn) => {\n      if (updatePropsFn != null) {\n        this._updatePropsMap[cellKey] = updatePropsFn;\n      } else {\n        delete this._updatePropsMap[cellKey];\n      }\n    };\n\n    this._updateHighlightMap = {};\n    this._updatePropsMap = {};\n\n    this._captureRef = ref => {\n      this._listRef = ref;\n    };\n  }\n\n  scrollToLocation(params) {\n    var index = params.itemIndex;\n\n    for (var i = 0; i < params.sectionIndex; i++) {\n      index += this.props.getItemCount(this.props.sections[i].data) + 2;\n    }\n\n    var viewOffset = params.viewOffset || 0;\n\n    if (this._listRef == null) {\n      return;\n    }\n\n    if (params.itemIndex > 0 && this.props.stickySectionHeadersEnabled) {\n      // $FlowFixMe[prop-missing] Cannot access private property\n      var frame = this._listRef._getFrameMetricsApprox(index - params.itemIndex);\n\n      viewOffset += frame.length;\n    }\n\n    var toIndexParams = _objectSpread(_objectSpread({}, params), {}, {\n      viewOffset,\n      index\n    });\n\n    this._listRef.scrollToIndex(toIndexParams);\n  }\n\n  getListRef() {\n    return this._listRef;\n  }\n\n  render() {\n    var _this$props = this.props,\n        ItemSeparatorComponent = _this$props.ItemSeparatorComponent,\n        SectionSeparatorComponent = _this$props.SectionSeparatorComponent,\n        _renderItem = _this$props.renderItem,\n        renderSectionFooter = _this$props.renderSectionFooter,\n        renderSectionHeader = _this$props.renderSectionHeader,\n        _sections = _this$props.sections,\n        stickySectionHeadersEnabled = _this$props.stickySectionHeadersEnabled,\n        passThroughProps = _objectWithoutPropertiesLoose(_this$props, _excluded);\n\n    var listHeaderOffset = this.props.ListHeaderComponent ? 1 : 0;\n    var stickyHeaderIndices = this.props.stickySectionHeadersEnabled ? [] : undefined;\n    var itemCount = 0;\n\n    for (var _iterator = _createForOfIteratorHelperLoose(this.props.sections), _step; !(_step = _iterator()).done;) {\n      var section = _step.value;\n\n      // Track the section header indices\n      if (stickyHeaderIndices != null) {\n        stickyHeaderIndices.push(itemCount + listHeaderOffset);\n      } // Add two for the section header and footer.\n\n\n      itemCount += 2;\n      itemCount += this.props.getItemCount(section.data);\n    }\n\n    var renderItem = this._renderItem(itemCount);\n\n    return /*#__PURE__*/React.createElement(VirtualizedList, _extends({}, passThroughProps, {\n      keyExtractor: this._keyExtractor,\n      stickyHeaderIndices: stickyHeaderIndices,\n      renderItem: renderItem,\n      data: this.props.sections,\n      getItem: (sections, index) => this._getItem(this.props, sections, index),\n      getItemCount: () => itemCount,\n      onViewableItemsChanged: this.props.onViewableItemsChanged ? this._onViewableItemsChanged : undefined,\n      ref: this._captureRef\n    }));\n  }\n\n  _getItem(props, sections, index) {\n    if (!sections) {\n      return null;\n    }\n\n    var itemIdx = index - 1;\n\n    for (var i = 0; i < sections.length; i++) {\n      var section = sections[i];\n      var sectionData = section.data;\n      var itemCount = props.getItemCount(sectionData);\n\n      if (itemIdx === -1 || itemIdx === itemCount) {\n        // We intend for there to be overflow by one on both ends of the list.\n        // This will be for headers and footers. When returning a header or footer\n        // item the section itself is the item.\n        return section;\n      } else if (itemIdx < itemCount) {\n        // If we are in the bounds of the list's data then return the item.\n        return props.getItem(sectionData, itemIdx);\n      } else {\n        itemIdx -= itemCount + 2; // Add two for the header and footer\n      }\n    }\n\n    return null;\n  }\n\n  _subExtractor(index) {\n    var itemIndex = index;\n    var _this$props2 = this.props,\n        getItem = _this$props2.getItem,\n        getItemCount = _this$props2.getItemCount,\n        keyExtractor = _this$props2.keyExtractor,\n        sections = _this$props2.sections;\n\n    for (var i = 0; i < sections.length; i++) {\n      var section = sections[i];\n      var sectionData = section.data;\n      var key = section.key || String(i);\n      itemIndex -= 1; // The section adds an item for the header\n\n      if (itemIndex >= getItemCount(sectionData) + 1) {\n        itemIndex -= getItemCount(sectionData) + 1; // The section adds an item for the footer.\n      } else if (itemIndex === -1) {\n        return {\n          section,\n          key: key + ':header',\n          index: null,\n          header: true,\n          trailingSection: sections[i + 1]\n        };\n      } else if (itemIndex === getItemCount(sectionData)) {\n        return {\n          section,\n          key: key + ':footer',\n          index: null,\n          header: false,\n          trailingSection: sections[i + 1]\n        };\n      } else {\n        var extractor = section.keyExtractor || keyExtractor || defaultKeyExtractor;\n        return {\n          section,\n          key: key + ':' + extractor(getItem(sectionData, itemIndex), itemIndex),\n          index: itemIndex,\n          leadingItem: getItem(sectionData, itemIndex - 1),\n          leadingSection: sections[i - 1],\n          trailingItem: getItem(sectionData, itemIndex + 1),\n          trailingSection: sections[i + 1]\n        };\n      }\n    }\n  }\n\n  _getSeparatorComponent(index, info, listItemCount) {\n    info = info || this._subExtractor(index);\n\n    if (!info) {\n      return null;\n    }\n\n    var ItemSeparatorComponent = info.section.ItemSeparatorComponent || this.props.ItemSeparatorComponent;\n    var SectionSeparatorComponent = this.props.SectionSeparatorComponent;\n    var isLastItemInList = index === listItemCount - 1;\n    var isLastItemInSection = info.index === this.props.getItemCount(info.section.data) - 1;\n\n    if (SectionSeparatorComponent && isLastItemInSection) {\n      return SectionSeparatorComponent;\n    }\n\n    if (ItemSeparatorComponent && !isLastItemInSection && !isLastItemInList) {\n      return ItemSeparatorComponent;\n    }\n\n    return null;\n  }\n\n}\n\nfunction ItemWithSeparator(props) {\n  var LeadingSeparatorComponent = props.LeadingSeparatorComponent,\n      SeparatorComponent = props.SeparatorComponent,\n      cellKey = props.cellKey,\n      prevCellKey = props.prevCellKey,\n      setSelfHighlightCallback = props.setSelfHighlightCallback,\n      updateHighlightFor = props.updateHighlightFor,\n      setSelfUpdatePropsCallback = props.setSelfUpdatePropsCallback,\n      updatePropsFor = props.updatePropsFor,\n      item = props.item,\n      index = props.index,\n      section = props.section,\n      inverted = props.inverted;\n\n  var _React$useState = React.useState(false),\n      leadingSeparatorHiglighted = _React$useState[0],\n      setLeadingSeparatorHighlighted = _React$useState[1];\n\n  var _React$useState2 = React.useState(false),\n      separatorHighlighted = _React$useState2[0],\n      setSeparatorHighlighted = _React$useState2[1];\n\n  var _React$useState3 = React.useState({\n    leadingItem: props.leadingItem,\n    leadingSection: props.leadingSection,\n    section: props.section,\n    trailingItem: props.item,\n    trailingSection: props.trailingSection\n  }),\n      leadingSeparatorProps = _React$useState3[0],\n      setLeadingSeparatorProps = _React$useState3[1];\n\n  var _React$useState4 = React.useState({\n    leadingItem: props.item,\n    leadingSection: props.leadingSection,\n    section: props.section,\n    trailingItem: props.trailingItem,\n    trailingSection: props.trailingSection\n  }),\n      separatorProps = _React$useState4[0],\n      setSeparatorProps = _React$useState4[1];\n\n  React.useEffect(() => {\n    setSelfHighlightCallback(cellKey, setSeparatorHighlighted);\n    setSelfUpdatePropsCallback(cellKey, setSeparatorProps);\n    return () => {\n      setSelfUpdatePropsCallback(cellKey, null);\n      setSelfHighlightCallback(cellKey, null);\n    };\n  }, [cellKey, setSelfHighlightCallback, setSeparatorProps, setSelfUpdatePropsCallback]);\n  var separators = {\n    highlight: () => {\n      setLeadingSeparatorHighlighted(true);\n      setSeparatorHighlighted(true);\n\n      if (prevCellKey != null) {\n        updateHighlightFor(prevCellKey, true);\n      }\n    },\n    unhighlight: () => {\n      setLeadingSeparatorHighlighted(false);\n      setSeparatorHighlighted(false);\n\n      if (prevCellKey != null) {\n        updateHighlightFor(prevCellKey, false);\n      }\n    },\n    updateProps: (select, newProps) => {\n      if (select === 'leading') {\n        if (LeadingSeparatorComponent != null) {\n          setLeadingSeparatorProps(_objectSpread(_objectSpread({}, leadingSeparatorProps), newProps));\n        } else if (prevCellKey != null) {\n          // update the previous item's separator\n          updatePropsFor(prevCellKey, _objectSpread(_objectSpread({}, leadingSeparatorProps), newProps));\n        }\n      } else if (select === 'trailing' && SeparatorComponent != null) {\n        setSeparatorProps(_objectSpread(_objectSpread({}, separatorProps), newProps));\n      }\n    }\n  };\n  var element = props.renderItem({\n    item,\n    index,\n    section,\n    separators\n  });\n  var leadingSeparator = LeadingSeparatorComponent != null && /*#__PURE__*/React.createElement(LeadingSeparatorComponent, _extends({\n    highlighted: leadingSeparatorHiglighted\n  }, leadingSeparatorProps));\n  var separator = SeparatorComponent != null && /*#__PURE__*/React.createElement(SeparatorComponent, _extends({\n    highlighted: separatorHighlighted\n  }, separatorProps));\n  return leadingSeparator || separator ? /*#__PURE__*/React.createElement(View, null, inverted === false ? leadingSeparator : separator, element, inverted === false ? separator : leadingSeparator) : element;\n}\n\nexport default VirtualizedSectionList;"]},"metadata":{},"sourceType":"script"}