{"ast":null,"code":"'use strict';var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));var _createClass2=_interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));var _get2=_interopRequireDefault(require(\"@babel/runtime/helpers/get\"));var _inherits2=_interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));var _possibleConstructorReturn2=_interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));var _getPrototypeOf2=_interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));var _objectSpread2=_interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));var _AnimatedNode=_interopRequireDefault(require(\"./AnimatedNode\"));var _AnimatedTransform=_interopRequireDefault(require(\"./AnimatedTransform\"));var _AnimatedWithChildren2=_interopRequireDefault(require(\"./AnimatedWithChildren\"));var _NativeAnimatedHelper=_interopRequireDefault(require(\"../NativeAnimatedHelper\"));var _StyleSheet=_interopRequireDefault(require(\"../../../../exports/StyleSheet\"));function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var flattenStyle=_StyleSheet.default.flatten;var AnimatedStyle=function(_AnimatedWithChildren){(0,_inherits2.default)(AnimatedStyle,_AnimatedWithChildren);var _super=_createSuper(AnimatedStyle);function AnimatedStyle(style){var _this;(0,_classCallCheck2.default)(this,AnimatedStyle);_this=_super.call(this);style=flattenStyle(style)||{};if(style.transform){style=(0,_objectSpread2.default)((0,_objectSpread2.default)({},style),{},{transform:new _AnimatedTransform.default(style.transform)});}_this._style=style;return _this;}(0,_createClass2.default)(AnimatedStyle,[{key:\"_walkStyleAndGetValues\",value:function _walkStyleAndGetValues(style){var updatedStyle={};for(var key in style){var value=style[key];if(value instanceof _AnimatedNode.default){if(!value.__isNative){updatedStyle[key]=value.__getValue();}}else if(value&&!Array.isArray(value)&&typeof value==='object'){updatedStyle[key]=this._walkStyleAndGetValues(value);}else{updatedStyle[key]=value;}}return updatedStyle;}},{key:\"__getValue\",value:function __getValue(){return this._walkStyleAndGetValues(this._style);}},{key:\"_walkStyleAndGetAnimatedValues\",value:function _walkStyleAndGetAnimatedValues(style){var updatedStyle={};for(var key in style){var value=style[key];if(value instanceof _AnimatedNode.default){updatedStyle[key]=value.__getAnimatedValue();}else if(value&&!Array.isArray(value)&&typeof value==='object'){updatedStyle[key]=this._walkStyleAndGetAnimatedValues(value);}}return updatedStyle;}},{key:\"__getAnimatedValue\",value:function __getAnimatedValue(){return this._walkStyleAndGetAnimatedValues(this._style);}},{key:\"__attach\",value:function __attach(){for(var key in this._style){var value=this._style[key];if(value instanceof _AnimatedNode.default){value.__addChild(this);}}}},{key:\"__detach\",value:function __detach(){for(var key in this._style){var value=this._style[key];if(value instanceof _AnimatedNode.default){value.__removeChild(this);}}(0,_get2.default)((0,_getPrototypeOf2.default)(AnimatedStyle.prototype),\"__detach\",this).call(this);}},{key:\"__makeNative\",value:function __makeNative(){for(var key in this._style){var value=this._style[key];if(value instanceof _AnimatedNode.default){value.__makeNative();}}(0,_get2.default)((0,_getPrototypeOf2.default)(AnimatedStyle.prototype),\"__makeNative\",this).call(this);}},{key:\"__getNativeConfig\",value:function __getNativeConfig(){var styleConfig={};for(var styleKey in this._style){if(this._style[styleKey]instanceof _AnimatedNode.default){var style=this._style[styleKey];style.__makeNative();styleConfig[styleKey]=style.__getNativeTag();}}_NativeAnimatedHelper.default.validateStyles(styleConfig);return{type:'style',style:styleConfig};}}]);return AnimatedStyle;}(_AnimatedWithChildren2.default);var _default=AnimatedStyle;exports.default=_default;","map":{"version":3,"sources":["/Users/uheron/IH/storybookFinalTest/node_modules/react-native-web/dist/vendor/react-native/Animated/nodes/AnimatedStyle.js"],"names":["flattenStyle","StyleSheet","flatten","AnimatedStyle","style","transform","AnimatedTransform","_style","updatedStyle","key","value","AnimatedNode","__isNative","__getValue","Array","isArray","_walkStyleAndGetValues","__getAnimatedValue","_walkStyleAndGetAnimatedValues","__addChild","__removeChild","__makeNative","styleConfig","styleKey","__getNativeTag","NativeAnimatedHelper","validateStyles","type","AnimatedWithChildren"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n'use strict';\n\nimport _objectSpread from \"@babel/runtime/helpers/objectSpread2\";\nimport AnimatedNode from './AnimatedNode';\nimport AnimatedTransform from './AnimatedTransform';\nimport AnimatedWithChildren from './AnimatedWithChildren';\nimport NativeAnimatedHelper from '../NativeAnimatedHelper';\nimport StyleSheet from '../../../../exports/StyleSheet';\nvar flattenStyle = StyleSheet.flatten;\n\nclass AnimatedStyle extends AnimatedWithChildren {\n  constructor(style) {\n    super();\n    style = flattenStyle(style) || {};\n\n    if (style.transform) {\n      style = _objectSpread(_objectSpread({}, style), {}, {\n        transform: new AnimatedTransform(style.transform)\n      });\n    }\n\n    this._style = style;\n  } // Recursively get values for nested styles (like iOS's shadowOffset)\n\n\n  _walkStyleAndGetValues(style) {\n    var updatedStyle = {};\n\n    for (var key in style) {\n      var value = style[key];\n\n      if (value instanceof AnimatedNode) {\n        if (!value.__isNative) {\n          // We cannot use value of natively driven nodes this way as the value we have access from\n          // JS may not be up to date.\n          updatedStyle[key] = value.__getValue();\n        }\n      } else if (value && !Array.isArray(value) && typeof value === 'object') {\n        // Support animating nested values (for example: shadowOffset.height)\n        updatedStyle[key] = this._walkStyleAndGetValues(value);\n      } else {\n        updatedStyle[key] = value;\n      }\n    }\n\n    return updatedStyle;\n  }\n\n  __getValue() {\n    return this._walkStyleAndGetValues(this._style);\n  } // Recursively get animated values for nested styles (like iOS's shadowOffset)\n\n\n  _walkStyleAndGetAnimatedValues(style) {\n    var updatedStyle = {};\n\n    for (var key in style) {\n      var value = style[key];\n\n      if (value instanceof AnimatedNode) {\n        updatedStyle[key] = value.__getAnimatedValue();\n      } else if (value && !Array.isArray(value) && typeof value === 'object') {\n        // Support animating nested values (for example: shadowOffset.height)\n        updatedStyle[key] = this._walkStyleAndGetAnimatedValues(value);\n      }\n    }\n\n    return updatedStyle;\n  }\n\n  __getAnimatedValue() {\n    return this._walkStyleAndGetAnimatedValues(this._style);\n  }\n\n  __attach() {\n    for (var key in this._style) {\n      var value = this._style[key];\n\n      if (value instanceof AnimatedNode) {\n        value.__addChild(this);\n      }\n    }\n  }\n\n  __detach() {\n    for (var key in this._style) {\n      var value = this._style[key];\n\n      if (value instanceof AnimatedNode) {\n        value.__removeChild(this);\n      }\n    }\n\n    super.__detach();\n  }\n\n  __makeNative() {\n    for (var key in this._style) {\n      var value = this._style[key];\n\n      if (value instanceof AnimatedNode) {\n        value.__makeNative();\n      }\n    }\n\n    super.__makeNative();\n  }\n\n  __getNativeConfig() {\n    var styleConfig = {};\n\n    for (var styleKey in this._style) {\n      if (this._style[styleKey] instanceof AnimatedNode) {\n        var style = this._style[styleKey];\n\n        style.__makeNative();\n\n        styleConfig[styleKey] = style.__getNativeTag();\n      } // Non-animated styles are set using `setNativeProps`, no need\n      // to pass those as a part of the node config\n\n    }\n\n    NativeAnimatedHelper.validateStyles(styleConfig);\n    return {\n      type: 'style',\n      style: styleConfig\n    };\n  }\n\n}\n\nexport default AnimatedStyle;"]},"metadata":{},"sourceType":"script"}